CC = gcc
CFLAGS = -Wall -Werror -Wextra -g
LDFLAGS = -L./libft -lft

HEADERS = push_swap.h libft.h
SRCS = push_swap.c ps_utils_1.c ps_utils_2.c ps_sort.c ps_init.c ps_small_sort.c
OBJS = $(SRCS:.c=.o)

NAME = push_swap

all: $(NAME)

$(NAME): $(OBJS)
	$(CC) $(CFLAGS) $(OBJS) $(LDFLAGS) -o $(NAME)

%.o: %.c $(HEADERS)
	$(CC) $(CFLAGS) -c $< -o $@

norme:
	norminette $(SRCS) $(HEADERS)
clean:
	rm -f $(OBJS)

fclean: clean
	rm -f $(NAME) $(OBJS)
	rm -f debug

re: fclean all debug

DVAL = "1040 514 3624 2977 2330 459 4239 4814 55 1139 3189 2155 312 3367 270 1155 3674 758 4459 2263 4455 4763 3867 887 3671 4266 3729 429 3433 1125 491 1376 1556 1589 3582 4290 3938 2149 1707 2580 1605 622 4497 3376 4013 3030 2536 4770 2353 354 2703 3740 4235 3409 3008 1557 3041 143 337 1950 2489 2825 1527 351 1498 80 2707 3285 3087 4479 971 4633 1710 2589 4706 1653 1665 140 605 3502 2993 3523 1067 2988 374 2116 4762 4168 2709 669 1339 3913 4556 3256 2392 3924 1312 1438 1224 1833 129 816 4440 3408 1148 526 1442 4101 3300 2662 3011 3213 2796 4077 326 2871 1031 114 4066 1251 3572 1938 649 749 3337 4446 1354 4999 2463 210 4546 2053 1651 2009 3412 2643 2108 1263 1789 3907 4057 2930 367 4293 4681 1852 824 592 2472 341 1492 3106 1045 4202 843 1881 3387 1386 3962 3979 4870 3319 4470 3347 2962 1448 2903 1522 4100 154 4186 4420 3179 2816 4380 2217 2395 1012 2557 2072 3750 49 3776 1993 2328 1978 1968 3670 1439 1437 550 873 586 4749 2625 4799 4996 2057 2541 3382 4219 1106 3785 989 121 346 830 1415 4367 3484 2406 1819 3890 4751 1329 4952 1834 1906 1866 1861 1595 4023 2208 4571 2211 2831 3678 1565 4720 205 1081 4413 3520 1173 84 589 1912 308 2446 201 2518 3663 4832 1800 880 1220 3344 4744 3065 4572 1146 4912 4698 3704 2276 4726 4653 2393 197 771 1844 1487 1444 958 4378 334 505 733 315 879 1895 4020 1672 1458 1340 512 2204 2810 2667 4276 2068 3475 1846 3515 2695 2516 25 369 4745 1330 4028 4116 332 3372 112 3654 3369 1591 1151 4251 235 510 636 1002 565 748 4679 4177 2290 4374 542 684 728 472 862 2159 2163 3578 2482 1303 3444 285 3708 1131 859 3530 3842 4908 2067 1628 2909 3540 4393 3726 1594 2037 2537 3264 3223 4381 1730 264 2683 4621 576 4732 3151 2511 502 234 2234 3541 1430 1576 4277 2836 3478 1331 454 1517 4558 4554 2018 3013 3760 149 3509 4527 3254 3716 4508 4686 3888 2879 2323 4359 2422 3784 4 2808 2757 4627 1780 163 148 1666 4741 4229 2595 3139 1687 3048 1839 4805 1578 3463 2125 625 4136 530 3353 1092 3310 3132 2428 3281 3609 2544 927 3146 1370 798 4548 1161 1543 3318 2101 503 2152 575 4346 3486 2281 2508 3799 4241 403 2455 4963 3632 3118 1037 2996 309 1685 579 485 3813 1539 3586 4784 4626 2564 820 992 770 2803 3218 179 4377 1939 1484 4718 4662 2859 4921 2140 1953 1066 3426 4722 3686 3062 2728 2973 2786 2916 2624 1962 2243 4540 4068 3817 3351 3126 2045 3485 4161 4687 1647 3669 3316 603 342 999 1413 3252 1083 661 4200 836 1294 1590 6 3314 531 1815 3169 2862\
 584"
debug: $(OBJS)
	clear
	$(CC) $(CFLAGS) $(OBJS) $(LDFLAGS) -o debug
	colour-valgrind -s --tool=memcheck --leak-check=full --show-leak-kinds=all --track-origins=yes --error-exitcode=1 ./debug $(DVAL) 2>&1
	./debug $(DVAL) | ./Other/checker_linux $(DVAL)

.PHONY: all clean fclean re debug
